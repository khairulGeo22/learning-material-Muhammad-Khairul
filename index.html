<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Modul Digital IPS – Transaksi Ekonomi di Era Digital | Karya: Muhammad Khairul, S.Pd, M.Pd</title>
  <!-- Chart.js only (tanpa framework) -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    /* =============== THEME & RESET =============== */
    :root{
      --bg1:#f0f7ff; --bg2:#fef6ff; --ink:#0f172a;
      --grad: linear-gradient(115deg,#4f46e5, #06b6d4 50%, #f43f5e);
      --card: rgba(255,255,255,.85); --glass: rgba(255,255,255,.6);
      --ring: rgba(79,70,229,.35);
      --ok:#16a34a; --warn:#f59e0b; --bad:#dc2626;
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:var(--ink);
      background: radial-gradient(1200px 800px at 20% -10%, #e0f2fe, transparent),
                  radial-gradient(900px 700px at 120% 10%, #ffe4e6, transparent),
                  radial-gradient(700px 600px at -10% 110%, #ede9fe, transparent),
                  #ffffff;}
    a{color:inherit}
    img{max-width:100%;display:block}
    .container{max-width:1100px;margin-inline:auto;padding:0 18px}

    /* =============== NAVBAR =============== */
    .nav{position:sticky;top:0;z-index:40;backdrop-filter:saturate(1.2) blur(10px);background:linear-gradient(180deg,rgba(255,255,255,.92),rgba(255,255,255,.65));
      border-bottom:1px solid #e5e7eb}
    .nav .inner{display:flex;align-items:center;justify-content:space-between;height:64px}
    .brand{display:flex;align-items:center;gap:10px;font-weight:800}
    .brand .logo{width:36px;height:36px;border-radius:12px;background:var(--grad);box-shadow:0 6px 18px rgba(79,70,229,.35)}
    .menu{display:flex;gap:14px;flex-wrap:wrap}
    .menu a{padding:8px 12px;border-radius:12px;text-decoration:none;border:1px solid transparent}
    .menu a:hover{background:var(--glass);border-color:var(--ring)}
    .btn{border:none;border-radius:12px;padding:10px 14px;cursor:pointer;font-weight:600}
    .btn-primary{background:var(--grad);color:white;box-shadow:0 8px 20px rgba(79,70,229,.35)}
    .btn-ghost{background:transparent;border:1px solid #e5e7eb}

    /* =============== HERO =============== */
    .hero{padding:56px 0;background:
      radial-gradient(1200px 600px at 70% -20%, #e0e7ff 0%, transparent 60%),
      radial-gradient(900px 600px at -10% 10%, #cffafe 0%, transparent 60%)}
    .hero-grid{display:grid;grid-template-columns:1.1fr .9fr;gap:28px;align-items:center}
    .badge{display:inline-block;padding:6px 10px;border-radius:999px;background:rgba(255,255,255,.85);border:1px solid #e5e7eb;font-size:12px}
    .hero h1{font-size: clamp(28px, 4vw, 44px);line-height:1.15;margin:10px 0}
    .hero p{opacity:.85}
    .hero-ill{border-radius:24px;padding:18px;background:var(--card);border:1px solid #e5e7eb;box-shadow:0 16px 40px rgba(2,6,23,.12)}
    .grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;margin-top:14px}
    .chip{background:var(--glass);border:1px solid #e5e7eb;border-radius:12px;padding:8px 10px;text-align:center}

    /* =============== SECTIONS =============== */
    section{margin:28px 0}
    .card{background:var(--card);border:1px solid #e5e7eb;border-radius:18px;padding:18px;box-shadow:0 10px 28px rgba(2,6,23,.08)}
    .title{display:flex;align-items:center;gap:10px;margin:0 0 12px 0}
    .title .icon{width:28px;height:28px;border-radius:10px;display:grid;place-items:center;background:var(--glass);border:1px solid #e5e7eb}
    .muted{opacity:.7}

    /* =============== GRID & CARDS =============== */
    .grid-2{display:grid;grid-template-columns:1fr 1fr;gap:18px}
    .grid-4{display:grid;grid-template-columns:repeat(4,1fr);gap:14px}
    @media (max-width: 900px){.hero-grid,.grid-2{grid-template-columns:1fr}.grid-4{grid-template-columns:repeat(2,1fr)}}

    /* =============== INFO BOXES =============== */
    .ibox{border-radius:16px;padding:14px;border:1px dashed #cbd5e1;background:linear-gradient(180deg,#ffffff, #fafafa)}
    .ibox h4{margin:4px 0 8px 0}

    /* =============== CHART CARDS =============== */
    .chart-wrap{padding:14px;border-radius:16px;border:1px solid #e5e7eb;background:#fff}

    /* =============== SIMULATOR =============== */
    .slider{width:100%}
    .kpi{display:flex;gap:8px;align-items:center}
    .kpi b{font-size:18px}

    /* =============== QUIZ =============== */
    .quiz{display:grid;gap:16px}
    .qcard{background:#fff;border:1px solid #e5e7eb;border-radius:16px;padding:14px;transition:transform .25s}
    .qcard:hover{transform:translateY(-4px)}
    .opt{display:flex;align-items:center;gap:10px;padding:10px;border:1px solid #e5e7eb;border-radius:12px;margin:8px 0;cursor:pointer;background:linear-gradient(180deg,#fff,#fafafa)}
    .opt .badge{width:28px;height:28px;border-radius:8px;background:var(--glass);display:grid;place-items:center;border:1px solid #e5e7eb}
    .opt.correct{border-color:rgba(22,163,74,.5);background:linear-gradient(180deg,#ecfdf5,#d1fae5)}
    .opt.wrong{border-color:rgba(220,38,38,.4);background:linear-gradient(180deg,#fef2f2,#fee2e2)}
    .scorebar{height:10px;background:#e5e7eb;border-radius:999px;overflow:hidden}
    .scorebar>span{display:block;height:100%;background:var(--grad);width:0%}

    /* =============== TABLE / LKPD =============== */
    table{width:100%;border-collapse:collapse;border:1px solid #e5e7eb;background:#fff;border-radius:14px;overflow:hidden}
    th,td{border:1px solid #e5e7eb;padding:10px;text-align:left}
    th{background:#f8fafc}
    textarea{width:100%;min-height:70px;resize:vertical}

    /* =============== MISC =============== */
    .float-tools{position:fixed;right:18px;bottom:18px;display:flex;flex-direction:column;gap:10px}
    .ghost{background:#fff;border:1px solid #e5e7eb;border-radius:14px;padding:10px 12px;box-shadow:0 8px 20px rgba(2,6,23,.08)}
    @media print{.nav,.float-tools,.ghost.print-hide{display:none} body{background:#fff}} 
    .fade{opacity:0;transform:translateY(14px);transition:all .6s ease}
    .fade.show{opacity:1;transform:translateY(0)}
  </style>
</head>
<body>
  <!-- ==================== NAV ==================== -->
  <div class="nav">
    <div class="inner container">
      <div class="brand"><div class="logo"></div><div>Modul Digital IPS</div></div>
      <div class="menu">
        <a href="#tujuan">Tujuan</a>
        <a href="#materi">Materi</a>
        <a href="#grafik">Grafik</a>
        <a href="#simulator">Simulator</a>
        <a href="#pembayaran">Pembayaran</a>
        <a href="#lkpd">LKPD</a>
        <a href="#kuis">Kuis</a>
      </div>
      <button id="btnPrint" class="btn btn-ghost">🖨️ Cetak/PDF</button>
    </div>
  </div>

  <!-- ==================== HERO ==================== -->
  <header class="hero">
    <div class="container hero-grid">
      <div>
        <span class="badge">Karya: <b>Muhammad Khairu, S.Pd, M.Pd</b></span>
        <h1>Perkembangan Transaksi Ekonomi di Era Digital</h1>
        <p>Transportasi 🚚 dan Komunikasi 📱 melesat → perdagangan makin cepat, murah, dan luas. Kenali E‑Commerce, sistem pembayaran modern, serta cara aman bertransaksi (R‑E‑P).</p>
        <div style="margin-top:14px;display:flex;gap:10px;flex-wrap:wrap">
          <a class="btn btn-primary" href="#tujuan">Mulai Belajar</a>
          <a class="btn btn-ghost" href="#kuis">Ke Kuis</a>
        </div>
        <div class="grid-3">
          <div class="chip">⏱️ 2×40 menit</div>
          <div class="chip">🧠 Pengetahuan + Praktek</div>
          <div class="chip">🧪 Simulator Interaktif</div>
        </div>
      </div>
      <div class="hero-ill">
        <div class="grid-3">
          <div class="ibox"><h4>🚚 Transportasi</h4><p class="muted">Pengiriman cepat, pelacakan real‑time</p></div>
          <div class="ibox"><h4>📡 Komunikasi</h4><p class="muted">Negosiasi & layanan daring</p></div>
          <div class="ibox"><h4>🛒 E‑Commerce</h4><p class="muted">Toko online 24/7</p></div>
        </div>
        <div class="grid-3">
          <div class="ibox"><h4>💳 Pembayaran</h4><p class="muted">Bank, e‑wallet, QRIS</p></div>
          <div class="ibox"><h4>🔒 Keamanan</h4><p class="muted">OTP, 2FA, kanal resmi</p></div>
          <div class="ibox"><h4>📈 Pertumbuhan</h4><p class="muted">Skala & nilai transaksi</p></div>
        </div>
      </div>
    </div>
  </header>

  <main class="container">
    <!-- ==================== TUJUAN ==================== -->
    <section id="tujuan" class="fade">
      <div class="card">
        <h3 class="title"><span class="icon">📌</span>Tujuan & Agenda</h3>
        <div class="grid-2">
          <div>
            <ul>
              <li>Menjelaskan peran transportasi & komunikasi dalam perdagangan modern.</li>
              <li>Mendefinisikan E‑Commerce & menyebutkan modelnya (B2C, B2B, C2C, B2G).</li>
              <li>Menilai kelebihan & risiko belanja online, menerapkan <b>Respect–Educate–Protect</b>.</li>
              <li>Mengenal sistem & alat pembayaran: tunai, bank, e‑wallet, QRIS, fintech.</li>
              <li>Menggunakan simulator untuk melihat faktor pendorong perdagangan.</li>
            </ul>
          </div>
          <div>
            <div class="ibox">
              <h4>⏰ Rencana 2×40 menit</h4>
              <ol>
                <li>5’ Apersepsi + pretest</li>
                <li>20’ Materi 1 (T&K + E‑Commerce)</li>
                <li>10’ Diskusi kasus</li>
                <li>10’ Simulator</li>
                <li>15’ Materi 2 (Pembayaran + Fintech)</li>
                <li>10’ LKPD</li>
                <li>10’ Kuis & refleksi</li>
              </ol>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ==================== MATERI ==================== -->
    <section id="materi" class="fade">
      <div class="card">
        <h3 class="title"><span class="icon">📚</span>Materi Inti</h3>
        <div class="grid-2">
          <div>
            <div class="ibox">
              <h4>🚚 Transportasi Lebih Efisien</h4>
              <p>Kapasitas muatan meningkat, rute optimal, biaya turun → barang lebih cepat sampai.</p>
            </div>
            <div class="ibox">
              <h4>📡 Komunikasi Tanpa Batas</h4>
              <p>Internet mempertemukan penjual–pembeli lintas wilayah; layanan pelanggan makin responsif.</p>
            </div>
            <div class="ibox">
              <h4>🛒 E‑Commerce</h4>
              <p>Toko online dengan etalase, stok, chat, pengiriman, dan pembayaran terintegrasi.</p>
              <ul class="muted">
                <li><b>B2C</b>: Perusahaan → Konsumen</li>
                <li><b>B2B</b>: Perusahaan → Perusahaan</li>
                <li><b>C2C</b>: Konsumen → Konsumen (marketplace)</li>
                <li><b>B2G</b>: Perusahaan → Pemerintah</li>
              </ul>
            </div>
          </div>
          <div>
            <div class="ibox">
              <h4>✨ Kelebihan E‑Commerce</h4>
              <ul>
                <li>Produk beragam, perbandingan mudah</li>
                <li>Distribusi lebih pendek (bisa langsung produsen)</li>
                <li>Pembayaran mudah (bank, kartu, e‑wallet, QRIS)</li>
                <li>Bisa belanja kapan saja, di mana saja</li>
                <li>Harga kompetitif (biaya operasional turun)</li>
              </ul>
            </div>
            <div class="ibox">
              <h4>⚠️ Risiko & Cara Aman (R‑E‑P)</h4>
              <ul>
                <li><b>Respect</b>: Hormati privasi, jangan sebar data</li>
                <li><b>Educate</b>: Baca ulasan, pahami kebijakan</li>
                <li><b>Protect</b>: 2FA, jangan bagikan OTP, gunakan kanal resmi</li>
              </ul>
            </div>
            <div class="ibox">
              <h4>🏫 Dekat dengan SMP</h4>
              <p>Top‑up game via e‑wallet, bayar kantin pakai QRIS, belanja kebutuhan sekolah di marketplace.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ==================== GRAFIK ==================== -->
    <section id="grafik" class="fade">
      <div class="grid-2">
        <div class="card">
          <h3 class="title"><span class="icon">📈</span>Pertumbuhan Perdagangan Dunia (Ilustratif)</h3>
          <div class="chart-wrap"><canvas id="chartWorld"></canvas></div>
          <p class="muted">Ilustrasi: volume perdagangan dunia tumbuh pesat seiring kemajuan transportasi & komunikasi.</p>
        </div>
        <div class="card">
          <h3 class="title"><span class="icon">🛍️</span>Transaksi E‑Commerce Indonesia (Ilustratif)</h3>
          <div class="chart-wrap"><canvas id="chartIDN"></canvas></div>
          <p class="muted">Contoh tren nilai transaksi e‑commerce 2018–2024 (angka ilustratif untuk pembelajaran).</p>
        </div>
      </div>
    </section>

    <!-- ==================== SIMULATOR ==================== -->
    <section id="simulator" class="fade">
      <div class="card">
        <h3 class="title"><span class="icon">🧪</span>Simulator Perdagangan</h3>
        <p class="muted">Geser slider: efisiensi transportasi, jangkauan komunikasi, dan kepercayaan/keamanan memengaruhi indeks perdagangan.</p>
        <div class="grid-2">
          <div>
            <div class="kpi"><span>🚚</span><b>Transportasi</b> &nbsp;(<span id="valT">60</span>)</div>
            <input class="slider" id="slT" type="range" min="0" max="100" value="60" />
            <div class="kpi"><span>📡</span><b>Komunikasi</b> &nbsp;(<span id="valC">70</span>)</div>
            <input class="slider" id="slC" type="range" min="0" max="100" value="70" />
            <div class="kpi"><span>🔒</span><b>Kepercayaan</b> &nbsp;(<span id="valS">65</span>)</div>
            <input class="slider" id="slS" type="range" min="0" max="100" value="65" />
            <div class="ibox" style="margin-top:12px">
              <b>Kategori:</b> <span id="labelCat">Berkembang</span>
              <div class="scorebar" style="margin-top:8px"><span id="barScore"></span></div>
            </div>
          </div>
          <div>
            <div class="chart-wrap"><canvas id="chartIndex"></canvas></div>
            <div class="chart-wrap" style="margin-top:12px"><canvas id="chartGauge"></canvas></div>
          </div>
        </div>
      </div>
    </section>

    <!-- ==================== PEMBAYARAN ==================== -->
    <section id="pembayaran" class="fade">
      <div class="card">
        <h3 class="title"><span class="icon">💳</span>Sistem & Alat Pembayaran Modern</h3>
        <div class="grid-4">
          <div class="ibox"><h4>💵 Tunai</h4><p>Langsung & universal, kurang praktis jarak jauh.</p></div>
          <div class="ibox"><h4>🏦 Bank</h4><p>Transfer, kartu debit/kredit, mobile & internet banking.</p></div>
          <div class="ibox"><h4>📱 E‑Wallet</h4><p>OVO, GoPay, DANA, ShopeePay — cepat & banyak promo.</p></div>
          <div class="ibox"><h4>🔳 QRIS</h4><p>Standar QR nasional, bayar lintas penyelenggara.</p></div>
        </div>
        <div class="ibox" style="margin-top:12px">
          <h4>🏦💡 Fintech</h4>
          <p>Payment gateway (Midtrans/Xendit), P2P lending (Modalku/Amartha), e‑wallet. Penyelenggara wajib berizin & diawasi (mis. OJK untuk jasa keuangan).</p>
        </div>
      </div>
    </section>

    <!-- ==================== LKPD ==================== -->
    <section id="lkpd" class="fade">
      <div class="card">
        <h3 class="title"><span class="icon">📝</span>LKPD – Lembar Kerja Peserta Didik</h3>
        <ol>
          <li>Jelaskan pengaruh transportasi & komunikasi pada perdagangan di daerahmu.</li>
          <li>Sebutkan 3 kelebihan & 2 risiko E‑Commerce yang kamu alami/lihat.</li>
          <li>Coba simulator: catat nilai indeks pada 3 skenario berbeda & maknanya.</li>
          <li>Bandingkan 3 alat pembayaran (tunai, bank, e‑wallet) dari sisi mudah, biaya, keamanan.</li>
          <li>Buat poster "Belanja Online Aman: R‑E‑P".</li>
        </ol>
        <table style="margin-top:10px">
          <tr><th>Aspek</th><th>Catatan/Kesimpulan</th></tr>
          <tr><td>Transportasi</td><td><textarea></textarea></td></tr>
          <tr><td>Komunikasi</td><td><textarea></textarea></td></tr>
          <tr><td>Keamanan</td><td><textarea></textarea></td></tr>
        </table>
      </div>
    </section>

    <!-- ==================== KUIS ==================== -->
    <section id="kuis" class="fade">
      <div class="card">
        <h3 class="title"><span class="icon">🎯</span>Kuis Formatif</h3>
        <div id="quiz" class="quiz"></div>
        <div class="ibox" style="margin-top:10px">
          <div><b>Skor:</b> <span id="scoreTxt">0/0</span></div>
          <div class="scorebar" style="margin-top:6px"><span id="scoreBar"></span></div>
          <div style="margin-top:10px;display:flex;gap:10px;flex-wrap:wrap">
            <button id="btnReset" class="btn btn-ghost">🔄 Ulangi</button>
            <button id="btnShowAns" class="btn btn-ghost">👀 Tampilkan Kunci</button>
          </div>
        </div>
      </div>
    </section>

    <!-- ==================== GLOSARIUM ==================== -->
    <section class="fade">
      <div class="card">
        <h3 class="title"><span class="icon">📑</span>Glosarium & Referensi</h3>
        <div class="grid-2">
          <div>
            <ul>
              <li><b>E‑Commerce</b>: Perdagangan barang/jasa melalui internet.</li>
              <li><b>Fintech</b>: Layanan keuangan berbasis teknologi.</li>
              <li><b>QRIS</b>: Standar kode QR pembayaran Indonesia.</li>
              <li><b>Payment Gateway</b>: Pemroses pembayaran online.</li>
            </ul>
          </div>
          <div class="muted">
            <p>Rujukan pembelajaran: WTO – indikator perdagangan global (konteks 2019), materi guru “Perkembangan Transaksi Ekonomi di Era Digital”, BI/OJK – pedoman sistem pembayaran & QRIS.</p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- ==================== FLOAT TOOLS ==================== -->
  <div class="float-tools">
    <button id="toTop" class="ghost print-hide" title="Kembali ke atas">⤴️</button>
  </div>

  <script>
    // ========= helpers =========
    const $$ = (q,ctx=document)=>Array.from(ctx.querySelectorAll(q));
    const $  = (q,ctx=document)=>ctx.querySelector(q);

    // ========= print & back-to-top =========
    $('#btnPrint').addEventListener('click', ()=>window.print());
    $('#toTop').addEventListener('click', ()=>window.scrollTo({top:0,behavior:'smooth'}));

    // ========= on-scroll reveal =========
    const onScroll = ()=>{$$('.fade').forEach(el=>{const r=el.getBoundingClientRect(); if(r.top<innerHeight-80) el.classList.add('show')})};
    addEventListener('scroll', onScroll); onScroll();

    // ========= charts (illustrative data) =========
    const chartWorld = new Chart($('#chartWorld'),{
      type:'line', data:{
        labels:[1950,1960,1970,1980,1990,2000,2010,2015,2019],
        datasets:[{label:'Indeks Volume Perdagangan', data:[1,2,3.6,6,9,13,18,20,22],
          borderColor:'#4f46e5', backgroundColor:'rgba(79,70,229,.12)', tension:.35, fill:true}]},
      options:{plugins:{legend:{display:false}}, scales:{y:{beginAtZero:true}}}
    });

    const chartIDN = new Chart($('#chartIDN'),{
      type:'bar', data:{
        labels:['2018','2019','2020','2021','2022','2023','2024'],
        datasets:[{label:'Nilai Transaksi E‑Commerce (ilustratif, miliar USD)', data:[15,22,35,50,72,96,118], backgroundColor:'rgba(6,182,212,.55)', borderColor:'#06b6d4'}]},
      options:{plugins:{legend:{display:false}}, scales:{y:{beginAtZero:true}}}
    });

    // ========= simulator =========
    const slT=$('#slT'), slC=$('#slC'), slS=$('#slS');
    const valT=$('#valT'), valC=$('#valC'), valS=$('#valS');
    const barScore=$('#barScore'), labelCat=$('#labelCat');

    const chartIndex = new Chart($('#chartIndex'),{
      type:'bar', data:{labels:['Indeks'], datasets:[{label:'Trade Index', data:[0], backgroundColor:'rgba(79,70,229,.6)'}]},
      options:{plugins:{legend:{display:false}}, scales:{y:{min:0,max:100}}}
    });

    const chartGauge = new Chart($('#chartGauge'),{
      type:'doughnut', data:{labels:['Skor','Sisa'], datasets:[{data:[0,100], backgroundColor:['#22c55e','#e5e7eb'], borderWidth:0}]} ,
      options:{cutout:'70%', plugins:{legend:{display:false}}}
    });

    function updateSim(){
      valT.textContent = slT.value; valC.textContent = slC.value; valS.textContent = slS.value;
      const t=+slT.value/100, c=+slC.value/100, s=+slS.value/100;
      const score=Math.round(40*t + 40*c + 20*s); // bobot 40/40/20
      chartIndex.data.datasets[0].data=[score]; chartIndex.update();
      chartGauge.data.datasets[0].data=[score,100-score]; chartGauge.update();
      barScore.style.width=score+'%';
      labelCat.textContent = score<40? 'Hambatan Tinggi' : score<70? 'Berkembang' : 'Mapan';
    }
    [slT,slC,slS].forEach(el=>el.addEventListener('input',updateSim));
    updateSim();

    // ========= quiz =========
    const bankSoal = [
      {q:'Dua bidang teknologi yang paling menentukan perkembangan perdagangan modern adalah…', a:['Pertanian & konstruksi','Transportasi & komunikasi','Energi & pendidikan','Pariwisata & kesehatan'], k:1},
      {q:'E‑Commerce adalah…', a:['Jual-beli di pasar tradisional','Jual-beli melalui media elektronik/internet','Kegiatan promosi saja','Ekspor impor tanpa bea'], k:1},
      {q:'Manakah BUKAN keuntungan E‑Commerce?', a:['Variasi produk','Distribusi bisa lebih pendek','Selalu lebih mahal','Belanja kapan saja'], k:2},
      {q:'Contoh pembayaran nontunai via bank adalah…', a:['Barter','Transfer/kartu debit-kredit','Bilyet giro kuno','Cek mundur'], k:1},
      {q:'Fintech adalah…', a:['Teknologi pertanian','Layanan keuangan berbasis teknologi','Teknik menggambar finansial','Sistem logistik maritim'], k:1},
      {q:'Standar kode QR nasional di Indonesia adalah…', a:['NFC','QRIS','RFID','OTP'], k:1},
      {q:'Prinsip “Protect” berarti…', a:['Bagikan OTP agar cepat','Gunakan 2FA & kanal resmi','Abaikan kebijakan toko','Klik semua tautan promo'], k:1},
      {q:'Model C2C berarti…', a:['Perusahaan → Konsumen','Konsumen → Konsumen (marketplace)','Perusahaan → Pemerintah','Pemerintah → Warga'], k:1},
      {q:'Pengawasan jasa keuangan di Indonesia dilakukan oleh…', a:['UNESCO','WHO','OJK','KPK'], k:2},
      {q:'Payment gateway bertugas untuk…', a:['Menjaga gudang','Memproses pembayaran online','Mengirim barang','Membuat iklan'], k:1}
    ];

    const quiz = $('#quiz');
    const scoreTxt = $('#scoreTxt');
    const scoreBar = $('#scoreBar');
    let jawaban = Array(bankSoal.length).fill(null);

    function renderQuiz(){
      quiz.innerHTML='';
      bankSoal.forEach((s,i)=>{
        const card=document.createElement('div'); card.className='qcard';
        const letters=['A','B','C','D'];
        card.innerHTML = `<div><b>${i+1}.</b> ${s.q}</div>` + s.a.map((t,idx)=>
          `<div class="opt" data-i="${i}" data-v="${idx}"><span class="badge">${letters[idx]}</span> ${t}</div>`
        ).join('');
        quiz.appendChild(card);
      });
      $$('.opt',quiz).forEach(btn=>btn.addEventListener('click', onPick));
      updateScore();
    }

    function onPick(e){
      const btn=e.currentTarget; const i=+btn.dataset.i; const v=+btn.dataset.v; const k=bankSoal[i].k;
      jawaban[i]=v; // mark
      // clear group
      $$('.opt', btn.parentElement).forEach(o=>o.classList.remove('correct','wrong'));
      btn.classList.add(v===k? 'correct':'wrong');
      updateScore();
    }

    function updateScore(){
      const benar = jawaban.reduce((n,v,i)=> n + (v===bankSoal[i].k?1:0), 0);
      scoreTxt.textContent = `${benar}/${bankSoal.length}`;
      scoreBar.style.width = (benar/bankSoal.length*100)+'%';
    }

    $('#btnReset').addEventListener('click',()=>{jawaban.fill(null); renderQuiz();});
    $('#btnShowAns').addEventListener('click',()=>{
      // highlight kunci
      $$('.qcard').forEach((card,i)=>{
        const k=bankSoal[i].k; const opts=$$('.opt',card);
        opts.forEach((o,idx)=>{o.classList.remove('wrong','correct'); if(idx===k) o.classList.add('correct');});
      });
    });

    renderQuiz();
  </script>
</body>
</html>
